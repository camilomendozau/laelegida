<!DOCTYPE html>
<html lang="es" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Elegida - Tienda en línea</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'elegida-red': '#CA0022',
                        'elegida-orange': '#F18F00',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
        }

        @media (max-width: 768px) {
            header .container {
                flex-direction: column;
                align-items: flex-start;
            }

            nav ul {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>

<body class="flex flex-col min-h-full bg-gray-100">
    <header class="bg-elegida-red text-white fixed top-0 left-0 right-0 z-50 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-4">
                <a href="/" class="flex items-center" style="height: 80px; width: 200px;">
                    <img src="{{ url_for('static', filename='assets/img/logo-blanco.png') }}" alt="La Elegida"
                        class="h-full w-full object-contain">
                </a>
                <div class="flex items-center space-x-4">
                    <button id="profileButton"
                        class="bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-200 rounded-full p-2 border border-white"
                        aria-label="Perfil de usuario" onclick="window.location.href='/login';">
                        <i class="fas fa-user"></i>
                    </button>
                    <button id="menuToggle"
                        class="md:hidden p-2 border border-white bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-200 rounded-full">
                        <i class="fas fa-bars"></i>
                    </button>
                    <button id="menuToggleDesktop"
                        class="hidden md:block p-2 border border-white bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-200 rounded-full">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
            <div class="flex flex-col py-4 md:flex-row md:items-center md:justify-between md:space-x-4">
                <div class="relative flex-grow">
                    <input type="search" placeholder="Buscar productos..."
                        class="w-full bg-white rounded-full py-2 pl-4 pr-10 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-elegida-red focus:ring-opacity-50"
                        aria-label="Buscar productos">
                    <button
                        class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white hover:bg-gray-100 transition-colors duration-200 rounded-full p-2"
                        aria-label="Buscar">
                        <i class="fas fa-search text-black"></i>
                    </button>
                </div>
                <a href="/carrito"
                    class="relative mt-4 md:mt-0 flex items-center justify-center bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors duration-200 rounded-full p-2 border border-white"
                    aria-label="Carrito de compras">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cartCount"
                        class="absolute top-0 right-0 bg-red-600 text-white text-xs font-bold border border-white rounded px-2 py-1 transform translate-x-1/2 -translate-y-1/2">0</span>
                </a>
            </div>
        </div>
    </header>
    <nav id="hamburgerMenu"
        class="fixed inset-y-0 right-0 transform translate-x-full transition-transform duration-300 ease-in-out bg-white w-64 p-6 overflow-y-auto z-50 md:hidden">
        <button id="closeMenu" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
            aria-label="Cerrar menú">
            <i class="fas fa-times"></i>
        </button>
        <ul class="mt-8 space-y-4">
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Tés</a>
            </li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Sopas
                    Instantáneas</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Snacks
                    Salados</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Bebidas
                    Frías</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Bebidas
                    Calientes</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Chocolates
                    y Dulces</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Galletas
                    y Pasteles</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Snacks
                    Saludables</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Aperitivos
                    y Dips</a></li>
            <li><a href="#"
                    class="block px-4 py-2 rounded-lg text-gray-700 hover:bg-elegida-red hover:text-white transition-colors duration-200">Ofertas
                    Especiales</a></li>
        </ul>
    </nav>

    <script>
        // Obtener referencias a los elementos
        const menuToggle = document.getElementById('menuToggle');
        const hamburgerMenu = document.getElementById('hamburgerMenu');
        const closeMenu = document.getElementById('closeMenu');

        // Función para abrir el menú
        menuToggle.addEventListener('click', function () {
            hamburgerMenu.classList.remove('translate-x-full'); // Eliminar la clase para mostrar el menú
        });

        // Función para cerrar el menú
        closeMenu.addEventListener('click', function () {
            hamburgerMenu.classList.add('translate-x-full'); // Añadir la clase para ocultar el menú
        });

        // Cerrar el menú al hacer clic en cualquier enlace
        const menuItems = hamburgerMenu.querySelectorAll('a');
        menuItems.forEach(item => {
            item.addEventListener('click', () => {
                hamburgerMenu.classList.add('translate-x-full'); // Oculta el menú al seleccionar un elemento
            });
        });
    </script>


<main class="flex-grow mt-72 container mx-auto px-4 pb-16">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl">
        <div class="p-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Publicar Producto</h2>
            <form id="productForm" class="space-y-6">
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-2">Nombre del Producto</h3>
                    <input type="text" id="name" name="name" required 
                           class="mt-1 block w-full rounded-md border-2 border-gray-900 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                           placeholder="Ingresa el nombre del producto">
                </div>
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-2">Precio</h3>
                    <input type="number" id="price" name="price" step="0.01" required 
                           class="mt-1 block w-full rounded-md border-2 border-gray-900 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                           placeholder="Ingresa el precio del producto">
                </div>
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-2">Cantidad</h3>
                    <input type="number" id="quantity" name="quantity" required 
                           class="mt-1 block w-full rounded-md border-2 border-gray-900 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                           placeholder="Ingresa la cantidad disponible">
                </div>
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-2">Descripción</h3>
                    <textarea id="description" name="description" rows="3" required 
                              class="mt-1 block w-full rounded-md border-2 border-gray-900 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
                              placeholder="Describe el producto"></textarea>
                </div>
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-2">Foto del Producto</h3>
                    <label for="photo" class="w-full flex justify-center items-center gap-2 py-2 px-4 border-2 border-red-500 rounded-md shadow-sm text-sm font-medium text-red-500 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 cursor-pointer">
                      <i class="fas fa-camera"></i>
                      Seleccionar Foto
                    </label>
                    <input type="file" id="photo" name="photo" accept="image/*" required class="hidden">
                </div>
                
                <div>
                    <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                        Publicar Producto
                    </button>
                </div>
            </form>
            <div id="message" class="mt-4 text-center font-medium"></div>
        </div>
    </div>
  
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('productForm');
            const message = document.getElementById('message');
            const fileInput = document.getElementById('photo');
            const fileLabel = document.querySelector('label[for="photo"]');
    
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                message.textContent = 'Publicando producto...';
                message.className = 'mt-4 text-center font-medium text-indigo-600';
    
                setTimeout(function() {
                    const formData = new FormData(form);
                    const productData = Object.fromEntries(formData.entries());
    
                    console.log('Datos del Producto:', productData);
    
                    message.textContent = '¡Producto publicado exitosamente!';
                    message.className = 'mt-4 text-center font-medium text-green-600';
                    form.reset();
                    fileLabel.textContent = 'Seleccionar Foto';
    
                    form.classList.add('animate-bounce');
                    setTimeout(() => {
                        form.classList.remove('animate-bounce');
                    }, 1000);
    
                }, 1500);
            });
    
            fileInput.addEventListener('change', function() {
                if (this.files.length > 0) {
                    fileLabel.textContent = this.files[0].name;
                } else {
                    fileLabel.textContent = 'Seleccionar Foto';
                }
            });
    
            const inputs = form.querySelectorAll('input:not([type="file"]), textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.classList.add('ring-2', 'ring-indigo-300');
                });
                input.addEventListener('blur', function() {
                    this.classList.remove('ring-2', 'ring-indigo-300');
                });
            });
        });
    </script>
</main>



    <script>
        // Función para mostrar la ventana emergente
        function showConfirmationModal() {
            const confirmationModal = document.getElementById('confirmationModal');
            confirmationModal.style.display = 'flex'; // Mostrar el modal
        }

        // Función para cerrar la ventana emergente
        function closeModal() {
            const confirmationModal = document.getElementById('confirmationModal');
            confirmationModal.style.display = 'none'; // Ocultar el modal
        }

        // Función para "Seguir explorando"
        function continueExploring() {
            closeModal(); // Cerrar el modal
        }

        // Función para redirigir al carrito
        function goToCart() {
            closeModal(); // Cerrar el modal
            window.location.href = '/carrito'; // Redirigir al carrito
        }

        // Agregar evento para cerrar el modal al hacer clic fuera de él
        window.onclick = function (event) {
            const confirmationModal = document.getElementById('confirmationModal');
            if (event.target === confirmationModal) {
                closeModal();
            }
        }



    </script>


    <style>
        /* Estilos para centrar el modal */
        #confirmationModal {
            display: none;
            /* Oculto por defecto */
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            /* Fondo semi-transparente */
            z-index: 50;
        }
    </style>
    <script>
        function buyNow(productName, price, imageUrl) {
            // Crear el objeto del producto con nombre, precio e imagen
            const product = {
                name: productName,
                price: price,
                imageUrl: imageUrl,
                quantity: 1 // Manejar las cantidades
            };

            // Obtener el carrito del localStorage (si existe), de lo contrario crear un array vacío
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Verificar si el producto ya está en el carrito
            const existingProduct = cart.find(item => item.name === productName);
            if (existingProduct) {
                // Si el producto ya existe, incrementar la cantidad
                existingProduct.quantity += 1;
            } else {
                // Si el producto no existe, agregarlo al carrito
                cart.push(product);
            }

            // Guardar el carrito actualizado en localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            // Actualizar el contador del carrito
            updateCartCount();

            // Ya no redirigir al carrito, simplemente se queda en la misma página
        }

        function handleProductDetails(name, price, imageUrl, description, features) {
            // Almacenar los datos del producto en localStorage
            const productDetails = {
                name: name,
                price: price,
                imageUrl: imageUrl,
                description: description,
                features: features
            };

            // Guardar los detalles en localStorage
            localStorage.setItem('productDetails', JSON.stringify(productDetails));

            // Redirigir a la página de detalles del producto
            window.location.href = '/producto';
        }

        // Función para agregar producto al carrito
        function addToCart(productName, price, imageUrl) {
            const product = {
                name: productName,
                price: price,
                imageUrl: imageUrl,
                quantity: 1
            };

            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingProduct = cart.find(item => item.name === productName);

            if (existingProduct) {
                existingProduct.quantity += 1;
            } else {
                cart.push(product);
            }

            localStorage.setItem('cart', JSON.stringify(cart));

            // Actualizar el contador del carrito
            updateCartCount();

            // Mostrar el mensaje de confirmación para agregar al carrito
            showAddToCartModal(); // Llama a la función para mostrar el modal
        }


        // Función para actualizar el contador del carrito
        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartCount = document.getElementById('cartCount');

            const totalCount = cart.reduce((acc, item) => acc + item.quantity, 0);
            cartCount.innerText = totalCount;
        }

        // Al cargar la página, actualizar el contador del carrito
        window.onload = function () {
            updateCartCount();
        };
    </script>

    <footer class="bg-elegida-red text-white py-2 px-4">
        <div class="container mx-auto">
            <div class="text-center">
                <div class="flex justify-center flex-wrap mb-0">
                    <a href="#"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="#"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="#"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </div>
                <div class="flex justify-center flex-wrap mb-0">
                    <a href="mailto:info@laelegida.com"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="tel:+1234567890"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-phone-alt"></i>
                    </a>
                    <a href="https://www.google.com/maps"
                        class="inline-block bg-white text-elegida-orange hover:bg-elegida-orange hover:text-white transition-colors duration-200 rounded-full p-3 m-2"
                        style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-map-marker-alt"></i>
                    </a>
                </div>

                <div>
                    <p class="text-sm">&copy; 2024 La Elegida. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const carousel = document.getElementById('carousel');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        // Cantidad total de imágenes
        const totalItems = carousel.children.length;
        // Índice del carrusel actual
        let currentIndex = 0;

        function updateCarouselPosition() {
            // Calcula la posición a la que se debe desplazar el carrusel
            const offset = -currentIndex * 100;
            carousel.style.transform = `translateX(${offset}%)`;
        }

        prevBtn.addEventListener('click', () => {
            // Decrementa el índice, pero asegúrate de que no sea menor que 0
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalItems - 1;
            updateCarouselPosition();
        });

        nextBtn.addEventListener('click', () => {
            // Incrementa el índice, pero asegúrate de que no exceda el total de imágenes
            currentIndex = (currentIndex < totalItems - 1) ? currentIndex + 1 : 0;
            updateCarouselPosition();
        });
    </script>
    <script src="/static/js/mission-button.js"></script>
    

</body>

</html>