{% extends "base.html" %} {%block content%}
<section id="home" class="hero">
  <div class="slideshow-container">
    <div class="hero-slide fade" style="background-color: #ee0505; display: block;">
      <div class="hero-content">
        <h1>LA ELEGIDA</h1>
      </div>
    </div>
    <div class="hero-slide fade" style="background-color: #eeea19; display: none;">
      <div class="hero-content">
        <h1>Fabricando productos saludables</h1>
      </div>
    </div>
    <div class="hero-slide fade" style="background-color: #34a002; display: none;">
      <div class="hero-content">
        <h1>Completamente Naturales</h1>
      </div>
    </div>
    <!-- <div class="mySlides fade" style="display: block">
      <div class="numbertext">1 / 3</div>
      <img alt="fondo espacio aviso" src="./O!SanSi_files/space.webp" style="width: 100%; height: 300px"/>
      <div class="text">
        <div class="w3-panel w3-large">
          <h3>¡Atención!</h3>
          <p>Las inscripciones están cerradas.</p>
          <p>Las fechas de la Etapa Clasificatoria son 7 y 8 de Septiembre</p>
        </div>
      </div>
    </div> -->
    <!-- <div class="hero-slide" style="background-color: #eedf15; display: none;">
      <div class="hero-content">
        <h1>Innovación en Cada Paso</h1>
        <p>
          Nuestras soluciones de vanguardia están diseñadas para impulsar tu
          negocio hacia el futuro.
        </p>
        <a href="#features" class="btn">Descubre Más</a>
      </div>
    </div>
    <div class="hero-slide" style="background-color: #1d8b23; display: none;">
      <div class="hero-content">
        <h1>Experiencia y Confiabilidad</h1>
        <p>
          Con años de experiencia en la industria, somos tu socio confiable para
          el éxito empresarial.
        </p>
        <a href="#products" class="btn">Ver Productos</a>
      </div>
    </div> -->
  </div>
  <div style="display: flex; flex-direction: column; justify-content:space-around; align-items: center; margin-top: 1vh;">
    <div class="dots--container">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
    <div>
      <a href="http://192.168.1.111:5000/products" class="btn">Explora nuestros productos</a>
    </div>
  </div>
</section>

<section id="features" class="features">
  <div class="container">
    <h2>Nuestras Características</h2>
    <div class="feature-grid">
      <div class="feature-item">
        <h3>Productos Naturales</h3>
        <p>Los productos hechos con mucho amor.</p>
      </div>
      <div class="feature-item">
        <h3>Seguro y Confiable</h3>
        <p>Fabricamos los productos con cuidado e higiene.</p>
      </div>
      <div class="feature-item">
        <h3>Productos diversos</h3>
        <p>Productos variados, de todos los cereales de nuestra tierra.</p>
      </div>
    </div>
  </div>
</section>

<section id="products" class="products">
  <div class="container">
    <h2>Nuestros Productos</h2>
    <div class="slider-container">
      <div class="slider">
        <div class="slide">
          <img
            src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23F18F00'/%3E%3Ctext x='400' y='200' font-family='Arial' font-size='32' fill='white' text-anchor='middle' alignment-baseline='middle'%3EProducto 1%3C/text%3E%3C/svg%3E"
            alt="Producto 1"
          />
          <h3>Producto 1</h3>
          <p>
            Descripción del Producto 1. Este increíble producto revolucionará tu
            negocio.
          </p>
        </div>
        <div class="slide">
          <img
            src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23CA0022'/%3E%3Ctext x='400' y='200' font-family='Arial' font-size='32' fill='white' text-anchor='middle' alignment-baseline='middle'%3EProducto 2%3C/text%3E%3C/svg%3E"
            alt="Producto 2"
          />
          <h3>Producto 2</h3>
          <p>
            Descripción del Producto 2. Mejora tu productividad con esta
            solución innovadora.
          </p>
        </div>
        <div class="slide">
          <img
            src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23F18F00'/%3E%3Ctext x='400' y='200' font-family='Arial' font-size='32' fill='white' text-anchor='middle' alignment-baseline='middle'%3EProducto 3%3C/text%3E%3C/svg%3E"
            alt="Producto 3"
          />
          <h3>Producto 3</h3>
          <p>
            Descripción del Producto 3. La herramienta definitiva para optimizar
            tus operaciones.
          </p>
        </div>
      </div>
    </div>
    <div class="slider-nav">
      <button id="prevBtn">Anterior</button>
      <button id="nextBtn">Siguiente</button>
    </div>
  </div>
</section>
{% endblock %}

<script>
  // Slider de productos
  const productSlider = document.querySelector(".products .slider");
  const productSlides = document.querySelectorAll(".products .slide");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  let currentProductIndex = 0;

  function showProductSlide(index) {
    productSlider.style.transform = `translateX(-${index * 100}%)`;
  }

  function nextProductSlide() {
    currentProductIndex = (currentProductIndex + 1) % productSlides.length;
    showProductSlide(currentProductIndex);
  }

  function prevProductSlide() {
    currentProductIndex =
      (currentProductIndex - 1 + productSlides.length) % productSlides.length;
    showProductSlide(currentProductIndex);
  }

  nextBtn.addEventListener("click", nextProductSlide);
  prevBtn.addEventListener("click", prevProductSlide);

  // Slider de hero
  const heroSlider = document.querySelector(".hero-slider");
  const heroSlides = document.querySelectorAll(".hero-slide");
  let isDragging = false;
  let startPos = 0;
  let currentTranslate = 0;
  let prevTranslate = 0;
  let animationID = 0;
  let currentIndex = 0;

  heroSlides.forEach((slide, index) => {
    const slideImage = slide.querySelector("img");
    slideImage?.addEventListener("dragstart", (e) => e.preventDefault());

    // Touch events
    slide.addEventListener("touchstart", touchStart(index));
    slide.addEventListener("touchend", touchEnd);
    slide.addEventListener("touchmove", touchMove);

    // Mouse events
    slide.addEventListener("mousedown", touchStart(index));
    slide.addEventListener("mouseup", touchEnd);
    slide.addEventListener("mouseleave", touchEnd);
    slide.addEventListener("mousemove", touchMove);
  });

  window.oncontextmenu = function (event) {
    event.preventDefault();
    event.stopPropagation();
    return false;
  };

  function touchStart(index) {
    return function (event) {
      currentIndex = index;
      startPos = getPositionX(event);
      isDragging = true;
      animationID = requestAnimationFrame(animation);
      heroSlider.classList.add("grabbing");
    };
  }
  /*function touchEnd() {
            isDragging = false;
            cancelAnimationFrame(animationID);
            const movedBy = currentTranslate - prevTranslate;
            if (movedBy < -100 && currentIndex < heroSl*/
</script>
